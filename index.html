 <!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Mappa pali sala valvole VHC1</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
    }

    .wrapper {
      display: flex;
      justify-content: center;
      padding: 20px;
    }

    .map-container {
      position: relative;
      background: #ddd;
      border: 1px solid #999;
      max-width: 100%;
      overflow: visible; /* L'immagine non viene mai tagliata */
    }

    .map-container img {
      width: 100%;   /* L'immagine si adatta allo schermo */
      height: auto;  /* Mantiene le proporzioni */
      display: block;
    }

    .marker {
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: yellow;
      border: 2px solid #fff;
      box-shadow: 0 0 4px rgba(0,0,0,0.5);
      cursor: pointer;
      transform: translate(-50%, -50%);
    }

    .marker:hover {
      background: #00aaff;
    }

    .tooltip {
      position: absolute;
      padding: 4px 8px;
      background: rgba(0,0,0,0.8);
      color: #fff;
      font-size: 12px;
      border-radius: 3px;
      pointer-events: none;
      transform: translate(-50%, -120%);
      white-space: nowrap;
      display: none;
      z-index: 10;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <div class="map-container" id="map">
      <img src="img/mappa_pali_sala_valvole_VHC1.jpg" alt="Mappa pali sala valvole VHC1" id="mapImage" />
      <div id="tooltip" class="tooltip"></div>
    </div>
  </div>

  <script>
    // Coordinate originali in pixel
    const markers = [
      { id: "Micropalo 115", x: 204, y: 454, pdf: "pdf/MP_115.pdf" },
      { id: "Micropalo 116", x: 405, y: 454, pdf: "pdf/MP_116.pdf" },
      { id: "Micropalo 117", x: 305, y: 555, pdf: "pdf/MP_117.pdf" },
      { id: "Micropalo 118", x: 204, y: 655, pdf: "pdf/MP_118.pdf" },
      { id: "Micropalo 119", x: 406, y: 656, pdf: "pdf/MP_119.pdf" },

      { id: "Micropalo 120", x: 820, y: 455, pdf: "pdf/MP_120.pdf" },
      { id: "Micropalo 121", x: 1020, y: 455, pdf: "pdf/MP_121.pdf" },
      { id: "Micropalo 122", x: 920, y: 555, pdf: "pdf/MP_122.pdf" },
      { id: "Micropalo 123", x: 820, y: 655, pdf: "pdf/MP_123.pdf" },
      { id: "Micropalo 124", x: 1020, y: 655, pdf: "pdf/MP_124.pdf" },

      { id: "Micropalo 125", x: 1446, y: 456, pdf: "pdf/MP_125.pdf" },
      { id: "Micropalo 126", x: 1648, y: 455, pdf: "pdf/MP_126.pdf" },
      { id: "Micropalo 127", x: 1548, y: 555, pdf: "pdf/MP_127.pdf" },
      { id: "Micropalo 128", x: 1446, y: 656, pdf: "pdf/MP_128.pdf" },
      { id: "Micropalo 129", x: 1648, y: 655, pdf: "pdf/MP_129.pdf" },

      { id: "Micropalo 130", x: 2074, y: 455, pdf: "pdf/MP_130.pdf" },
      { id: "Micropalo 131", x: 2276, y: 455, pdf: "pdf/MP_131.pdf" },
      { id: "Micropalo 132", x: 2175, y: 555, pdf: "pdf/MP_132.pdf" },
      { id: "Micropalo 133", x: 2074, y: 656, pdf: "pdf/MP_133.pdf" },
      { id: "Micropalo 134", x: 2276, y: 655, pdf: "pdf/MP_134.pdf" },

      { id: "Micropalo 135", x: 2700, y: 455, pdf: "pdf/MP_135.pdf" },
      { id: "Micropalo 136", x: 2902, y: 455, pdf: "pdf/MP_136.pdf" },
      { id: "Micropalo 137", x: 2802, y: 555, pdf: "pdf/MP_137.pdf" },
      { id: "Micropalo 138", x: 2700, y: 655, pdf: "pdf/MP_138.pdf" },
      { id: "Micropalo 139", x: 2902, y: 655, pdf: "pdf/MP_139.pdf" },

      { id: "Micropalo 166", x: 405, y: 2858, pdf: "pdf/MP_166.pdf" },
      { id: "Micropalo 167", x: 305, y: 2960, pdf: "pdf/MP_167.pdf" },
      { id: "Micropalo 168", x: 205, y: 3059, pdf: "pdf/MP_168.pdf" },
      { id: "Micropalo 169", x: 406, y: 3059, pdf: "pdf/MP_169.pdf" },

      { id: "Micropalo 170", x: 819, y: 2859, pdf: "pdf/MP_170.pdf" },
      { id: "Micropalo 171", x: 1021, y: 2859, pdf: "pdf/MP_171.pdf" },
      { id: "Micropalo 172", x: 920, y: 2959, pdf: "pdf/MP_172.pdf" },
      { id: "Micropalo 173", x: 820, y: 3059, pdf: "pdf/MP_173.pdf" },
      { id: "Micropalo 174", x: 1021, y: 3060, pdf: "pdf/MP_174.pdf" },

      { id: "Micropalo 175", x: 1447, y: 2859, pdf: "pdf/MP_175.pdf" },
      { id: "Micropalo 176", x: 1649, y: 2858, pdf: "pdf/MP_176.pdf" },
      { id: "Micropalo 177", x: 1547, y: 2959, pdf: "pdf/MP_177.pdf" },
      { id: "Micropalo 178", x: 1447, y: 3059, pdf: "pdf/MP_178.pdf" },
      { id: "Micropalo 179", x: 1648, y: 3059, pdf: "pdf/MP_179.pdf" },

      { id: "Micropalo 150", x: 221, y: 1081, pdf: "pdf/MP_150.pdf" },
      { id: "Micropalo 151", x: 375, y: 1079, pdf: "pdf/MP_151.pdf" },
      { id: "Micropalo 152", x: 298, y: 1156, pdf: "pdf/MP_152.pdf" },
      { id: "Micropalo 153", x: 221, y: 1233, pdf: "pdf/MP_153.pdf" },
      { id: "Micropalo 154", x: 375, y: 1233, pdf: "pdf/MP_154.pdf" },

      { id: "Micropalo 155", x: 221, y: 1679, pdf: "pdf/MP_155.pdf" },
      { id: "Micropalo 156", x: 375, y: 1671, pdf: "pdf/MP_156.pdf" },
      { id: "Micropalo 157", x: 298, y: 1757, pdf: "pdf/MP_157.pdf" },
      { id: "Micropalo 158", x: 221, y: 1834, pdf: "pdf/MP_158.pdf" },
      { id: "Micropalo 159", x: 375, y: 1834, pdf: "pdf/MP_159.pdf" },

      { id: "Micropalo 160", x: 221, y: 2280, pdf: "pdf/MP_160.pdf" },
      { id: "Micropalo 161", x: 377, y: 2280, pdf: "pdf/MP_161.pdf" },
      { id: "Micropalo 162", x: 298, y: 2357, pdf: "pdf/MP_162.pdf" },
      { id: "Micropalo 163", x: 221, y: 2436, pdf: "pdf/MP_163.pdf" },
      { id: "Micropalo 164", x: 375, y: 2436, pdf: "pdf/MP_164.pdf" },

      { id: "Micropalo 165", x: 205, y: 2857, pdf: "pdf/MP_165.pdf" },
      { id: "Micropalo 166", x: 405, y: 2857, pdf: "pdf/MP_166.pdf" },
      { id: "Micropalo 167", x: 305, y: 2957, pdf: "pdf/MP_167.pdf" },
      { id: "Micropalo 168", x: 204, y: 3060, pdf: "pdf/MP_168.pdf" },
      { id: "Micropalo 169", x: 405, y: 3060, pdf: "pdf/MP_169.pdf" },

      { id: "Palo 180", x: 2074, y: 2858, pdf: "pdf/P_180.pdf" },
{ id: "Palo 181", x: 2275, y: 2858, pdf: "pdf/P_181.pdf" },
{ id: "Palo 182", x: 2175, y: 2959, pdf: "pdf/P_182.pdf" },
{ id: "Palo 183", x: 2074, y: 3060, pdf: "pdf/P_183.pdf" },
{ id: "Palo 184", x: 2275, y: 3060, pdf: "pdf/P_184.pdf" },

{ id: "Palo 185", x: 2702, y: 2858, pdf: "pdf/P_185.pdf" },
{ id: "Palo 186", x: 2903, y: 2858, pdf: "pdf/P_186.pdf" },
{ id: "Palo 187", x: 2802, y: 2959, pdf: "pdf/P_187.pdf" },
{ id: "Palo 188", x: 2701, y: 3060, pdf: "pdf/P_188.pdf" },
{ id: "Palo 189", x: 2902, y: 3060, pdf: "pdf/P_189.pdf" },

{ id: "Palo 190", x: 3329, y: 2858, pdf: "pdf/P_190.pdf" },
{ id: "Palo 191", x: 3530, y: 2858, pdf: "pdf/P_191.pdf" },
{ id: "Palo 192", x: 3429, y: 2959, pdf: "pdf/P_192.pdf" },
{ id: "Palo 193", x: 3329, y: 3060, pdf: "pdf/P_193.pdf" },
{ id: "Palo 194", x: 3530, y: 3060, pdf: "pdf/P_194.pdf" },

{ id: "Palo 195", x: 3743, y: 2858, pdf: "pdf/P_195.pdf" },
{ id: "Palo 196", x: 3945, y: 2858, pdf: "pdf/P_196.pdf" },
{ id: "Palo 197", x: 3844, y: 2959, pdf: "pdf/P_197.pdf" },
{ id: "Palo 198", x: 3744, y: 3060, pdf: "pdf/P_198.pdf" },
{ id: "Palo 199", x: 3945, y: 3060, pdf: "pdf/P_199.pdf" },

{ id: "Palo 200", x: 4144, y: 2858, pdf: "pdf/P_200.pdf" },
{ id: "Palo 201", x: 4345, y: 2858, pdf: "pdf/P_201.pdf" },
{ id: "Palo 202", x: 4244, y: 2959, pdf: "pdf/P_202.pdf" },
{ id: "Palo 203", x: 4144, y: 3060, pdf: "pdf/P_203.pdf" },
{ id: "Palo 204", x: 4345, y: 3060, pdf: "pdf/P_204.pdf" },

{ id: "Palo 140", x: 3329, y: 455, pdf: "pdf/P_140.pdf" },
{ id: "Palo 141", x: 3530, y: 455, pdf: "pdf/P_141.pdf" },
{ id: "Palo 142", x: 3429, y: 556, pdf: "pdf/P_142.pdf" },
{ id: "Palo 143", x: 3329, y: 656, pdf: "pdf/P_143.pdf" },
{ id: "Palo 144", x: 3530, y: 656, pdf: "pdf/P_144.pdf" },

{ id: "Palo 145", x: 3744, y: 455, pdf: "pdf/P_145.pdf" },
{ id: "Palo 146", x: 3944, y: 455, pdf: "pdf/P_146.pdf" },
{ id: "Palo 147", x: 3844, y: 556, pdf: "pdf/P_147.pdf" },
{ id: "Palo 148", x: 3744, y: 656, pdf: "pdf/P_148.pdf" },
{ id: "Palo 149", x: 3944, y: 656, pdf: "pdf/P_149.pdf" },

    ];

    const map = document.getElementById("map");
    const img = document.getElementById("mapImage");
    const tooltip = document.getElementById("tooltip");

    img.addEventListener("load", () => {
      const imgWidth = img.naturalWidth;
      const imgHeight = img.naturalHeight;

      markers.forEach(m => {
  const el = document.createElement("div");
  el.className = "marker";

  // Conversione in percentuale
  const leftPercent = (m.x / imgWidth) * 100;
  const topPercent = (m.y / imgHeight) * 100;

  el.style.left = leftPercent + "%";
  el.style.top = topPercent + "%";

  // ðŸ”µ Differenziazione colori
const id = m.id.toLowerCase();

// Estrae il numero dall'ID "Palo 200" â†’ 200
const numero = parseInt(id.replace("palo", "").trim());

if (id.includes("micro")) {
  el.style.background = "yellow";        // Micropalo
} 
else if (numero >= 200 && numero <= 204) {
  el.style.background = "green";         // Pali 200â€“204
} 
else {
  el.style.background = "#00aaff";       // Palo normale (azzurro)
}

  el.addEventListener("mouseenter", () => {
    tooltip.textContent = m.id;
    tooltip.style.left = leftPercent + "%";
    tooltip.style.top = topPercent + "%";
    tooltip.style.display = "block";
  });

  el.addEventListener("mouseleave", () => {
    tooltip.style.display = "none";
  });

  el.addEventListener("click", () => {
    if (m.pdf) window.open(m.pdf, "_blank");
  });

  map.appendChild(el);
});
    });
</script>

  <script src="js/app.js"></script>
</body>
</html>
